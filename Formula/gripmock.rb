# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Gripmock < Formula
  desc "A mock server for gRPC services using .proto files or compiled .pb descriptors"
  homepage "https://bavix.github.io/gripmock/"
  version "3.2.5"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/gripmock/releases/download/v3.2.5/gripmock_3.2.5_darwin_amd64.tar.gz"
      sha256 "8d5ce5b820f4861abcce443f0bb8d1fdb5ed1d5182eebdcbbe88ac32f92dada2"

      def install
        bin.install "gripmock"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/gripmock/releases/download/v3.2.5/gripmock_3.2.5_darwin_arm64.tar.gz"
      sha256 "894ae7c7a940773dcff615ade6823cdf6df61fc76f927a7c05235c73194b92bf"

      def install
        bin.install "gripmock"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/bavix/gripmock/releases/download/v3.2.5/gripmock_3.2.5_linux_amd64.tar.gz"
        sha256 "4ac16ac707076a3c6ee3eec84df6b7a5804a895b079e62c0d212cc39a84afdb1"

        def install
          bin.install "gripmock"
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/bavix/gripmock/releases/download/v3.2.5/gripmock_3.2.5_linux_arm64.tar.gz"
        sha256 "5e0b73ca3f218aab9b0bec5f8a63fb25b37e437920cedeb1e2f2b8a48958fd54"

        def install
          bin.install "gripmock"
        end
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/gripmock --version")
  end
end
